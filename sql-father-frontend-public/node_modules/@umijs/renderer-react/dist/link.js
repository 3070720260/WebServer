import _objectSpread from "@babel/runtime/helpers/objectSpread2";
import React from 'react';
import { Link } from 'react-router-dom';
import { useAppData } from "./appContext";
import { jsx as _jsx } from "react/jsx-runtime";
export function LinkWithPrefetch(props) {
  var appData = useAppData();
  var to = typeof props.to === 'string' ? props.to : props.to.pathname;
  return /*#__PURE__*/_jsx(Link, _objectSpread(_objectSpread({
    onMouseEnter: function onMouseEnter() {
      var _appData$preloadRoute;

      return props.prefetch && to && ((_appData$preloadRoute = appData.preloadRoute) === null || _appData$preloadRoute === void 0 ? void 0 : _appData$preloadRoute.call(appData, to));
    }
  }, props), {}, {
    children: props.children
  }));
}